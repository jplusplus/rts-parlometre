div(ng-include="'components/header/header.html'")
div(ng-include="'components/sidebar/sidebar.html'")
//- Overlay outside the content when the sidebar is visible
.main-overlay(ng-hide="sidebar.isCollapsed", ng-click="sidebar.toggle()")

.main(ng-class="{ 'main--first': !previous }")
  ui-view
    .main__container
      h2.main__container__title Le ParlomÃ¨tre romand
      p.lead.main__container__introduction
        | Art party heirloom jean shorts Banksy, roof party PBR&amp;B taxidermy beard.
        | Hashtag Carles meh, whatever cred McSweeney's bitters letterpress meditation organic
        | typewriter mumblecore messenger bag salvia seitan.

      .main__container__wrapper
        .main__container__questions
          .main__container__questions__item(ng-repeat="question in questions", id="question-{{$index}}")
            form.main__container__questions__item__form(
              name="questionForm",
              ng-submit="save(question, userAnswer)",
              ng-class="questionClass($index)")
              fieldset(ng-disabled="$index !== index")
                input(type="hidden", required, ng-model="userAnswer")
                .main__container__questions__item__form__position
                  | Question {{ $index + 1 }}/{{ questions.length }}
                .main__container__questions__item__form__label
                  | {{ question.label }}

                .main__container__questions__item__form__image(ng-show="$index >= index && question.image")
                  img(ng-src="{{ question.image }}", width="100%")

                .main__container__questions__item__form__map(ng-show="$index < index")
                  img(src="http://www.placehold.it/400x450/fff/FFCC33", width="100%")

                ul.list-unstyled.main__container__questions__item__form__answers
                  li.checkbox.main__container__questions__item__form__answers__choice(ng-repeat="answer in question.answers")
                    label(ng-hide="$index !== userAnswer && $parent.$index < index")
                      input(type="radio", icheck, ng-model="$parent.userAnswer", ng-disabled="$parent.$index !== index", ng-value="$index")
                      | &nbsp; {{ answer }}


                .main__container__questions__item__form__next(ng-hide="$index < index")
                  button.btn.btn-primary.btn-lg(ng-disabled="!questionForm.$valid", type="submit")
                    | Suivant




